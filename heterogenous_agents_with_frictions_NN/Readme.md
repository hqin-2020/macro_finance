# Readme

This document provides descriptions of scripts and their functionalities contained within this directory



### Scripts Overview

### Model Execution and Analysis Scripts

1. **run_BFGS.sh**
   - **main_BFGS.py**: Executes the model RF / SG / PR using the scipy L-BFGS-B solver.
     - **utils_para.py**: Generates parameters in the model
     - **utils_training.py**: Defines HJB and FOC loss functions
     - **utils_DGM.py**: Neural nets basic structures
2. **run_validation.sh**
   - **main_variable.py**: Evaluates the solved models on validation sets, calculate stationary densities and validate errors
3. **run_pde_shock_elasticity.sh**
   - **main_pde_shock_elasticity.py**: Calculates shock elasticities by solving PDE
     - **utils_pde_shock_elasticity.py**: Contains source files for continuous-time shock elasticity PDE computations.
4. **run_sim_shock_elasticity.sh**
   - **main_sim_shock_elasticity.py**: Calculates shock elasticities by simulation
     - **utils_sim_shock_elasticity.py**: Contains source files for continuous-time shock elasticity simulations.
4. **results.ipynb**: Generates all the plots included in the paper.



### Generated Directory Structure

Running the above bash scripts organizes the outputs and logs into specific directories to streamline troubleshooting and monitoring of script execution:

1. **job-outs/'actionname'**
   - Contains all log and error files associated with the script runs.
     - **run_'seed'.err**: Generated by BFGS_solve.sh, records the training error information
     - **run_'seed'.out**: Generated by BFGS_solve.sh, records the training time information
     - **val_'seed'.err**: Generated by BFGS_validate.sh, records the validation error information
     - **val_'seed'.out**: Generated by BFGS_validate.sh
     - **ela_'seed'.err**: Generated by BFGS_elasticities.sh
     - **ela_'seed'.our**: Generated by BFGS_elasticities.sh
2. **bash/'actionname'**
   - Stores sbatch files for each parameter set, which are used to submit jobs to a computing cluster.
3. **output/'actionname'**
   - Holds the computed model solutions and other outputs.
     - **sim_NN**: Contains the solved neural network models.
     - ***_NN.npy**: Contains state variables, equilibrium variables, stationary densities, and important derivatives, all evaluated on state-space validation sets.
     - ***_MSE.npy**: Contains validation errors
     - **NN_info.json**: Contains neural net structure and training information
     - **eva_V_*.npz**: Contains evaluations of important state variables, equilibrium variables evaluated on specific percentile validation sets 
     - ***.pkl**: Contains shock elasticities
4. **data/'actionname'**
   - Contains all parameters used in the models.